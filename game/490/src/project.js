__require=function t(e,n,c){function o(i,s){if(!n[i]){if(!e[i]){var r=i.split("/");if(r=r[r.length-1],!e[r]){var u="function"==typeof __require&&__require;if(!s&&u)return u(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+i+"'")}}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){return o(e[i][1][t]||t)},l,l.exports,t,e,n,c)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<c.length;i++)o(c[i]);return o}({Boom:[function(t,e,n){"use strict";cc._RF.push(e,"3d210U6PahHJbyMTKElV1C/","Boom"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this.node.getComponent("sp.Skeleton");t.setAnimation(1,"animation",!1),t.setAnimationListener(this,this.spine_spineEventCallback)},spine_spineEventCallback:function(t,e,n,c,o){n==sp.AnimationEventType.COMPLETE&&"animation"===e.animation.name&&this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],Bullet:[function(t,e,n){"use strict";cc._RF.push(e,"dac94HUpFpKR5DSngqA/Rzt","Bullet"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){},onCollisionEnter:function(t,e){if(1==t.tag){var n=new cc.Event.EventCustom("GameOver",!0);this.node.dispatchEvent(n),this.node.destroy(),cc.log("on collision stay")}},update:function(t){var e=this.node.position;if(e.x<-cc.winSize.width/2+50||e.x>cc.winSize.width/2-50||e.y>cc.winSize.height/2-50||e.y<-cc.winSize.height/2+50){var n=new cc.Event.EventCustom("addScore",!0);n.setUserData(this.node.position),this.node.dispatchEvent(n),this.node.destroy()}}}),cc._RF.pop()},{}],GameAdapt:[function(t,e,n){"use strict";cc._RF.push(e,"8c3acn7YrNGxLX6wk+3y7B2","GameAdapt"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.winSize.width/cc.winSize.height,e=this.node.getComponent(cc.Canvas);t<=.67?(e.fitHeight=!0,e.fitWidth=!1):t>1?(e.fitHeight=!0,e.fitWidth=!0):(e.fitWidth=!0,e.fitHeight=!1)},start:function(){}}),cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"36aafMjPRdBlos4bvuQOzMx","GameData");var c=cc.Class({properties:{},ctor:function(){this.newScore=0;var t=this.getStorageData("GameFire");cc.log("GameFire"+t),null==t&&(this.setStorageData("GameFire",1),this.setStorageData("music",1),this.setStorageData("score",0))},getStorageData:function(t){return cc.sys.localStorage.getItem(t)},setStorageData:function(t,e){cc.sys.localStorage.setItem(t,e)},ChangeImage:function(t,e){cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){t.getComponent(cc.Sprite).spriteFrame=n})}});c._instance=null,c.getInstance=function(){return c._instance||(c._instance=new c),c._instance},e.exports=c,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"4e833AmVMlNVY9/bOOYTLF4","GameManager");var c=cc.Class({ctor:function(){}});c._instance=null,c.getInstance=function(){return c._instance||(c._instance=new c),c._instance},e.exports=c,cc._RF.pop()},{}],GameOver:[function(t,e,n){"use strict";cc._RF.push(e,"28ba1GGcYJIzLCdxN8ummyV","GameOver"),cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Label},best:{default:null,type:cc.Label},hint:{default:null,type:cc.Node}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onClick,this),SoundManager.playEffect("fail"),1==GlobalData.channel&&(cc.log("QuickAds.showAfg"),QuickAds.showAfg())},start:function(){this.score.string=GameData.newScore;var t=parseInt(GameData.getStorageData("score"));GameData.newScore>t?(this.hint.active=!0,this.best.string=GameData.newScore,GameData.setStorageData("score",GameData.newScore)):(this.hint.active=!1,this.best.string=t),cc.log(GameData.newScore+"  score  "+t)},redo:function(){cc.director.resume(),cc.director.loadScene("GameScene")},onSound:function(){this.sound.active=!1,this.soundclose.active=!0,GameData.setStorageData("music",0),SoundManager.stopMusic()},onSoundclose:function(){this.sound.active=!0,this.soundclose.active=!1,GameData.setStorageData("music",1),SoundManager.resumeMusic()},onClick:function(){}}),cc._RF.pop()},{}],GameRoot:[function(t,e,n){"use strict";cc._RF.push(e,"f107exZ6mtI4KvrnBce5ttb","GameRoot"),window.GlobalData={channel:1};var c=t("GameManager"),o=t("GameData");window.GameData=o.getInstance();var a=t("SoundManager");window.SoundManager=a.getInstance();var i=cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),c.getInstance(),this.initScene(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},initScene:function(){cc.director.loadScene("LogoScene")},changeScene:function(t,e){cc.director.loadScene(e)},start:function(){},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(t){switch(cc.log("onKeyDown="+t.keyCode),t.keyCode){case cc.KEY.back:if(console.log("onKeyDown"),console.log("onShowInner="+GlobalData.channel),cc.sys.OS_ANDROID==cc.sys.os)return console.log("current platform is: cc.sys.OS_ANDROID"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","exitGame","()V"),!0}}});i._instance=null,i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},e.exports=i,cc._RF.pop()},{GameData:"GameData",GameManager:"GameManager",SoundManager:"SoundManager"}],GameView:[function(t,e,n){"use strict";cc._RF.push(e,"25f66FaoYhIYqOMgF9pxxke","GameView"),cc.Class({extends:cc.Component,properties:{node_box:{default:null,type:cc.Node},node_gun:{default:null,type:cc.Node},box1:{default:null,type:cc.Prefab},box2:{default:null,type:cc.Prefab},box3:{default:null,type:cc.Prefab},box4:{default:null,type:cc.Prefab},boom:{default:null,type:cc.Prefab},bullet:{default:null,type:cc.Prefab},GameOverView:{default:null,type:cc.Node},bg:{default:null,type:cc.Node},scorelable:{default:null,type:cc.Label},spine:{default:null,type:cc.Node}},onLoad:function(){this.score=0,this.box_v=100,this.gun_v=100,this.r=55,this.canclick=!0,this.box_list=[],this.box_list.push(this.box1),this.box_list.push(this.box2),this.box_list.push(this.box3),this.box_list.push(this.box4),this.node_box.rotation=360*Math.random(),this.node_gun.rotation=360*Math.random(),cc.director.getPhysicsManager().enabled=!0,this.createBox(),this.ontouch(),this.color_list=[cc.color(96,86,205,255),cc.color(0,189,145,255),cc.color(34,179,227,255),cc.color(34,124,203,255)];var t=Math.floor(4*Math.random()+1);this.site=t,this.bg.color=this.color_list[t-1]},start:function(){var t=this;this.node.on("addScore",function(e){var n=e.getUserData();t.canclick=!0,t.addScore();var c=cc.instantiate(t.boom);c.parent=t.node,c.setPosition(n)}),this.node.on("GameOver",function(e){e.getUserData();t.GameOver()})},ontouch:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.onClick()},this)},createBox:function(){this.box&&this.box.destroy();var t=Math.floor(4*Math.random()+1),e=cc.instantiate(this.box_list[t-1]);e.parent=this.node_box,e.setPosition(cc.p(0,0)),this.box=e},createBullet:function(){var t=180-this.node_gun.rotation,e=cc.pRotateByAngle(cc.p(0,-this.r),cc.p(0,0),t*Math.PI/180);this.bullet_box=cc.instantiate(this.bullet),this.bullet_box.parent=this.node,this.bullet_box.setPosition(cc.p(e.x,e.y)),this.bullet_box.getComponent(cc.RigidBody).linearVelocity=cc.p(18*e.x,18*e.y)},addScore:function(){if(SoundManager.playEffect("score"),this.score=this.score+1,this.scorelable.string=this.score,this.score%5==0){this.box_v=this.box_v+20;var t=Math.floor(4*Math.random()+1);this.site==t&&(this.site>0?t-=1:t+=1),this.site=t,this.bg.color=this.color_list[t-1],this.createBox()}},onClick:function(){if(this.canclick){this.canclick=!1,this.spine;var t=this.spine.getComponent("sp.Skeleton");t.setAnimation(1,"animation2",!1),t.addAnimation(1,"animation1",!0),t.setAnimationListener(this,this.spine_spineEventCallback)}},spine_spineEventCallback:function(t,e,n,c,o){n==sp.AnimationEventType.EVENT&&"event"==c.data.name&&(SoundManager.playEffect("shoot"),this.createBullet())},GameOver:function(){var t=cc.moveBy(.05,cc.p(10*Math.random()+10,10*Math.random()+10)),e=cc.moveBy(.05,cc.p(-(10*Math.random()+10),-(10*Math.random()+10))),n=cc.moveBy(.05,cc.p(10*Math.random()+10,10*Math.random()+10)),c=cc.moveBy(.05,cc.p(-(10*Math.random()+10),-(10*Math.random()+10))),o=cc.moveBy(.05,cc.p(0,0)),a=cc.sequence(t,e,n,c,t,e,n,c,o,cc.callFunc(function(){GameData.newScore=this.score,this.GameOverView.active=!0},this));this.node.runAction(a)},update:function(t){this.node_box.rotation=this.node_box.rotation-t*this.box_v,this.node_gun.rotation=this.node_gun.rotation+t*this.gun_v}}),cc._RF.pop()},{}],LoadView:[function(t,e,n){"use strict";cc._RF.push(e,"0add6uUiLdAxqy9pEWx3S9B","LoadView"),cc.Class({extends:cc.Component,properties:{ring:{default:null,type:cc.Node},click_btn:{default:null,type:cc.Button},sound:{default:null,type:cc.Node},soundclose:{default:null,type:cc.Node}},onLoad:function(){SoundManager.playMusic("background_01"),this.List=["GameScene"],this.onLoadScene(0),this.click_btn.node.setScale(0,0),1==GameData.getStorageData("music")?(this.sound.active=!0,this.soundclose.active=!1):(this.sound.active=!1,this.soundclose.active=!0)},start:function(){this.ring.runAction(cc.repeatForever(cc.rotateBy(1,90)))},onLoadScene:function(t){var e=this;t<this.List.length?cc.director.preloadScene(this.List[t],function(){var n=cc.sequence(cc.delayTime(.2),cc.callFunc(function(){e.onLoadScene(t+1)},e));e.node.runAction(n);var c=t/(e.List.length-1);cc.log("load="+c)}):this.click_btn.node.runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(1,.9,.9).easing(cc.easeBackOut())))},nextScene:function(){cc.director.loadScene("GameScene")},onSound:function(){this.sound.active=!1,this.soundclose.active=!0,GameData.setStorageData("music",0),SoundManager.stopMusic()},onSoundclose:function(){this.sound.active=!0,this.soundclose.active=!1,GameData.setStorageData("music",1),SoundManager.resumeMusic()}}),cc._RF.pop()},{}],LogoView:[function(t,e,n){"use strict";cc._RF.push(e,"3bceai9sspJv7vuJD7z9Mhl","LogoView"),cc.Class({extends:cc.Component,properties:{logo_spr:{default:null,type:cc.Node},hint_spr:{default:null,type:cc.Node}},onLoad:function(){this.logo_spr.opacity=0,this.hint_spr.opacity=0},start:function(){this.logo_spr.runAction(cc.sequence(cc.fadeIn(1),cc.delayTime(1),cc.fadeOut(1),cc.callFunc(function(){cc.director.loadScene("LoadScene")},this)))}}),cc._RF.pop()},{}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"5683bDMim9PBI159P6la5LU","SoundManager");var c=t("GameData"),o=cc.Class({extends:cc.Component,properties:{},ctor:function(){},playMusic:function(t){1==c.getInstance().getStorageData("music")&&cc.loader.load(cc.url.raw("resources/sound/"+t+".mp3"),function(t,e){cc.audioEngine.play(e,!0)})},playEffect:function(t){1==c.getInstance().getStorageData("music")&&cc.loader.load(cc.url.raw("resources/sound/"+t+".mp3"),function(t,e){cc.audioEngine.play(e,!1,5)})},stopMusic:function(){cc.audioEngine.stopAll()},resumeMusic:function(){cc.audioEngine.resumeAll(),1==c.getInstance().getStorageData("music")&&cc.loader.load(cc.url.raw("resources/sound/background_01.mp3"),function(t,e){cc.audioEngine.play(e,!0)})}});o._instance=null,o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},e.exports=o,cc._RF.pop()},{GameData:"GameData"}]},{},["GameAdapt","GameData","GameManager","GameRoot","Boom","Bullet","GameOver","GameView","LoadView","LogoView","SoundManager"]);