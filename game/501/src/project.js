__require=function a(s,i,r){function u(e,t){if(!i[e]){if(!s[e]){var n=e.split("/");if(n=n[n.length-1],!s[n]){var c="function"==typeof __require&&__require;if(!t&&c)return c(n,!0);if(l)return l(n,!0);throw new Error("Cannot find module '"+e+"'")}}var o=i[e]={exports:{}};s[e][0].call(o.exports,function(t){return u(s[e][1][t]||t)},o,o.exports,a,s,i,r)}return i[e].exports}for(var l="function"==typeof __require&&__require,t=0;t<r.length;t++)u(r[t]);return u}({GameAdapt:[function(t,e,n){"use strict";cc._RF.push(e,"74899nwP1dJBINkbsg4Cra5","GameAdapt"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.winSize.width/cc.winSize.height,e=this.node.getComponent(cc.Canvas);t<=.67?(e.fitHeight=!0,e.fitWidth=!1):1<t?(e.fitHeight=!0,e.fitWidth=!0):(e.fitWidth=!0,e.fitHeight=!1)},start:function(){}}),cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"802f8QPQqRJm5i14coL3zXV","GameData");var c=cc.Class({extends:cc.Component,properties:{},ctor:function(){},setItem:function(t,e){cc.sys.localStorage.setItem(t,e)},getItem:function(t,e){var n=cc.sys.localStorage.getItem(t);return null==n&&(this.setItem(t,e),n=e),n}});c._instance=null,c.getInstance=function(){return null==c._instance&&(c._instance=new c),c._instance},e.exports=c,cc._RF.pop()},{}],Logo:[function(t,e,n){"use strict";cc._RF.push(e,"2ad68flpypDG6oMkZgyg55B","Logo"),cc.Class({extends:cc.Component,properties:{logo:{default:null,type:cc.Node}},start:function(){this.logo.opacity=0,this.logo.runAction(cc.sequence(cc.fadeIn(1),cc.delayTime(1),cc.fadeOut(1),cc.callFunc(function(){cc.sys.localStorage.setItem("again","false"),cc.director.loadScene("main")})))}}),cc._RF.pop()},{}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"21cabEaWk1A8bFqjoDKR11E","SoundManager");var c=t("GameData"),o=cc.Class({extends:cc.Component,properties:{},ctor:function(){var n=this;this.player_mode=0;var t=c.getInstance().getItem("sound",1);this.is_soundon=!0,0==t&&(this.is_soundon=!1),cc.loader.loadRes("sound/bgm",cc.AudioClip,function(t,e){n.beijing_clip=e,n.playMusic()}),cc.loader.loadRes("sound/fail",cc.AudioClip,function(t,e){n.fail_clip=e}),cc.loader.loadRes("sound/move",cc.AudioClip,function(t,e){n.perfect_clip=e}),cc.loader.loadRes("sound/touch",cc.AudioClip,function(t,e){n.run_clip=e})},setSound:function(t){(this.is_soundon=t)?c.getInstance().setItem("sound",1):c.getInstance().setItem("sound",0)},isSound:function(){return this.is_soundon},playMusic:function(){this.is_soundon&&null==this.bgm&&(this.bgm=cc.audioEngine.play(this.beijing_clip,!0,1))},stopMusic:function(){null!=this.bgm&&(cc.audioEngine.stop(this.bgm),this.bgm=null)},playWin:function(){this.is_soundon&&(this.win=cc.audioEngine.play(this.win_clip,!1,1))},stopWin:function(){null!=this.win&&(cc.audioEngine.stop(this.win),this.win=null)},playPerfect:function(){this.is_soundon&&cc.audioEngine.play(this.perfect_clip,!1,1)},playLose:function(){this.is_soundon&&(this.lose=cc.audioEngine.play(this.fail_clip,!1,1))},stopLose:function(){null!=this.lose&&(cc.audioEngine.stop(this.lose),this.lose=null)},playRun:function(){this.is_soundon&&(this.run=cc.audioEngine.play(this.run_clip,!1,1))},stopRun:function(){null!=this.run&&(cc.audioEngine.stop(this.run),this.run=null)}});o._instance=null,o.getInstance=function(){return null==o._instance&&(o._instance=new o),o._instance},e.exports=o,cc._RF.pop()},{GameData:"GameData"}],account:[function(t,e,n){"use strict";cc._RF.push(e,"db7a85O5dhHEbCGtOR8dNKQ","account"),cc.Class({extends:cc.Component,properties:{nowStep:{default:null,type:cc.Node},nowScore:{default:null,type:cc.Node},bestScore:{default:null,type:cc.Node},mainNode:{default:null,type:cc.Node}},start:function(){this.stepNum=cc.sys.localStorage.getItem("nowStep"),this.randomStep=cc.sys.localStorage.getItem("randomStep");var t=parseInt(this.stepNum)+parseInt(this.randomStep);this.nowStep.getComponent(cc.Label).string=this.stepNum;var e=parseInt(100-.81*t);this.nowScore.getComponent(cc.Label).string=e;var n=0,c=cc.sys.localStorage.getItem("best");n=c?e<c?c:e:(cc.sys.localStorage.setItem("best",e),e),this.bestScore.getComponent(cc.Label).string=n}}),cc._RF.pop()},{}],cat:[function(t,e,n){"use strict";cc._RF.push(e,"ce9a83abEhL0qWLWnC+Es+F","cat"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.left,this.right,this.left_up,this.right_up,this.left_down,this.right_down},start:function(){}}),cc._RF.pop()},{}],main:[function(t,e,n){"use strict";cc._RF.push(e,"5c0437mYrFNOomlGg613C9S","main");var h=t("SoundManager");t("GameData"),cc.Class({extends:cc.Component,properties:{mapArray:{default:[],type:cc.Node},cat:{default:null,type:cc.Node},stepLabel:{default:null,type:cc.Node},accountsNode:{default:null,type:cc.Node},winNode:{default:null,type:cc.Node},loseNode:{default:null,type:cc.Node},sounNode1:{default:null,type:cc.Node},sounNode2:{default:null,type:cc.Node}},onLoad:function(){this.mapRandomArray=[],this.mapArray=[],this.mapPosArray=[],this.nomlPos=[],this.stepNum=0,this.isGame=!1,this.moveTime=4},start:function(){h.getInstance().playMusic()},sealAgain:function(t,e){QuickAds.showAfg(),t.target,this.accountsNode.active=!1,this.startGame(),cc.sys.localStorage.setItem("again","true"),h.getInstance().playMusic(),h.getInstance().stopLose()},onSoundClick:function(){var t=h.getInstance().isSound();h.getInstance().setSound(!t),t?(this.sounNode1.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/music_2.png")),this.sounNode2.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/music_2.png")),h.getInstance().stopMusic()):(this.sounNode1.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/music_1.png")),this.sounNode2.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/music_1.png")),h.getInstance().playMusic()),this.checkSound()},startGame:function(){this.mapRandomArray=this.random(),cc.sys.localStorage.setItem("randomStep",this.mapRandomArray.length);var t=this.node.getChildByName("bg1").getChildByName("background");this.mapArray=t.children,this.node.getChildByName("bg1").getChildByName("catLayer").getChildByName("cat")&&this.node.getChildByName("bg1").getChildByName("catLayer").getChildByName("cat").destroy();for(var e=0;e<this.mapArray.length;e++)this.mapArray[e].getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/bg_gezi1.png")),this.mapArray[e].isColor=null;for(e=0;e<this.mapRandomArray.length;e++){var n=this.mapRandomArray[e];0<this.mapArray.length&&this.mapArray[n]&&this.replaceMap(this.mapArray[n])}var c=-1;for(e=0;e<this.mapArray.length;e++){var o=this.mapArray[e];e%9==0&&(c+=1),o.indexPos={x:1+e-9*c,y:1+c},this.mapPosArray.push(o.indexPos)}this.nomlPos={x:5,y:5};var a=null;for(e=0;e<this.mapArray.length;e++)this.mapArray[e].indexPos.x==this.nomlPos.x&&this.mapArray[e].indexPos.y==this.nomlPos.y&&(a=this.mapArray[e].getPosition());var s=this;cc.loader.loadRes("prefab/cat",function(t,e){s.cat=cc.instantiate(e),s.node.getChildByName("bg1").getChildByName("catLayer").addChild(s.cat),s.cat.x=a.x,s.cat.y=a.y,s.cat.indexPos=s.nomlPos})},play:function(t,e){var n=this;if(!this.isGame){this.isGame=!0;var c=cc.moveTo(.5,cc.p(0,this.node.getContentSize().height-200));this.node.getChildByName("bg1").runAction(cc.sequence(c,cc.callFunc(function(){n.startGame()})))}},catAi:function(t){for(var e=[],n=null,c=this,o=0,a=0;a<t.length;a++)t[a].obstacle||e.push(t[a]),0==t[a].WalkNum&&o++;if(o<6){n=0<e.length?(e.sort(function(t,e){return t.WalkNum-e.WalkNum}),e[0].axis):(t.sort(function(t,e){return e.WalkNum-t.WalkNum}),t[0].axis);var s=this.nextPoint(this.cat.indexPos,n);for(a=0;a<this.mapArray.length;a++)if(s.x==this.mapArray[a].indexPos.x&&s.y==this.mapArray[a].indexPos.y&&!this.mapArray[a].isColor){h.getInstance().playPerfect();var i=this.mapArray[a].getPosition(),r=cc.moveTo(.25,i),u=cc.callFunc(function(){}),l=cc.sequence(r,u);if(this.cat.runAction(l),this.cat.indexPos=this.mapArray[a].indexPos,1==this.cat.indexPos.x||1==this.cat.indexPos.y||9==this.cat.indexPos.x||9==this.cat.indexPos.y){h.getInstance().stopMusic(),h.getInstance().playLose();var p=cc.delayTime(.5),d=cc.callFunc(function(){c.loadAccounts("fail")});l=cc.sequence(p,d),this.node.runAction(l)}}}else p=cc.delayTime(.5),d=cc.callFunc(function(){c.loadAccounts("win")}),l=cc.sequence(p,d),this.node.runAction(l)},loadAccounts:function(t){this.accountsNode.active=!0,"fail"==t?this.loseNode.active=!0:this.winNode.active=!0},removeEmptyArrayEle:function(t){for(var e=0;e<t.length;e++)null==t[e]&&(t.splice(e,1),e-=1);return t},touch:function(t,e){var n=t.target;n.isColor||(this.replaceMap(n),this.catAi(this.getPath()),this.stepNum++,this.stepLabel.getComponent(cc.Label).string=this.stepNum,h.getInstance().playRun())},replaceMap:function(t){t.isColor="true",t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(cc.url.raw("resources/bg_2.png"))},random:function(){for(var t=Math.floor(5*Math.random())+6,e=this.randomArr(81),n=this.RandomNumBoth(e,t),c=0;c<n.length;c++)40==n[c]&&(n[c]=41);return n},RandomNumBoth:function(t,e){for(var n=[],c=t.length,o=0;o<c;o++){var a=Math.floor(Math.random()*t.length);if(n.push(t[a]),t.splice(a,1),t.length<=c-e)return n}},randomArr:function(t){for(var e=[],n=0;n<t;n++)e.push(n);return e},nextPoint:function(t,e){var n=null;switch(e){case-1:n={x:t.x-1,y:t.y};break;case 0:n={x:t.x+1,y:t.y};break;case 1:n=t.y%2==1?{x:t.x-1,y:t.y-1}:{x:t.x,y:t.y-1};break;case 2:n=t.y%2==1?{x:t.x-1,y:t.y+1}:{x:t.x,y:t.y+1};break;case 3:n=t.y%2==1?{x:t.x,y:t.y-1}:{x:t.x+1,y:t.y-1};break;case 4:n=t.y%2==1?{x:t.x,y:t.y+1}:{x:t.x+1,y:t.y+1}}return n},getPath:function(){var c=this,t=this.cat.indexPos,o=[{direction:"left",WalkNum:0,obstacle:!1,axis:-1},{direction:"right",WalkNum:0,obstacle:!1,axis:0},{direction:"leftUp",WalkNum:0,obstacle:!1,axis:1},{direction:"rightUp",WalkNum:0,obstacle:!1,axis:3},{direction:"leftDown",WalkNum:0,obstacle:!1,axis:2},{direction:"rightDown",WalkNum:0,obstacle:!1,axis:4}];return function t(e){var n=c.nextPoint(e,o[0].axis);n.x<1||(c.getNodeIsColorByIndexPos(n)?o[0].obstacle=!0:(o[0].WalkNum++,t(n)))}(t),function t(e){var n=c.nextPoint(e,o[1].axis);9<n.x||(c.getNodeIsColorByIndexPos(n)?o[1].obstacle=!0:(o[1].WalkNum++,t(n)))}(t),function t(e){var n=c.nextPoint(e,o[2].axis);n.x<1||n.y<1||(c.getNodeIsColorByIndexPos(n)?o[2].obstacle=!0:(o[2].WalkNum++,t(n)))}(t),function t(e){var n=c.nextPoint(e,o[3].axis);9<n.x||n.y<1||(c.getNodeIsColorByIndexPos(n)?o[3].obstacle=!0:(o[3].WalkNum++,t(n)))}(t),function t(e){var n=c.nextPoint(e,o[4].axis);n.x<1||9<n.y||(c.getNodeIsColorByIndexPos(n)?o[4].obstacle=!0:(o[4].WalkNum++,t(n)))}(t),function t(e){var n=c.nextPoint(e,o[5].axis);9<n.x||9<n.y||(c.getNodeIsColorByIndexPos(n)?o[5].obstacle=!0:(o[5].WalkNum++,t(n)))}(t),o},getNodeIsColorByIndexPos:function(t){for(var e=0;e<this.mapArray.length;e++){var n=this.mapArray[e];if(n.indexPos.x==t.x&&n.indexPos.y==t.y&&"true"==n.isColor)return!0}return!1}}),cc._RF.pop()},{GameData:"GameData",SoundManager:"SoundManager"}],nodeScale:[function(t,e,n){"use strict";cc._RF.push(e,"4b84fKyBHVPNpa7udUb9oU3","nodeScale"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.setScale(.3);var t=cc.scaleTo(.2,.9),e=cc.scaleTo(.1,.8),n=cc.sequence(t,e);this.node.runAction(n)}}),cc._RF.pop()},{}],scale:[function(t,e,n){"use strict";cc._RF.push(e,"88b469bpWxB4oBOOA82Ud2y","scale"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=cc.scaleTo(1,1.2),e=cc.scaleTo(1,1),n=cc.sequence(t,e),c=cc.repeatForever(n);this.node.runAction(c)}}),cc._RF.pop()},{}]},{},["GameAdapt","GameData","Logo","SoundManager","account","cat","main","nodeScale","scale"]);