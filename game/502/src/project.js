__require=function c(a,o,l){function h(e,t){if(!o[e]){if(!a[e]){var n=e.split("/");if(n=n[n.length-1],!a[n]){var i="function"==typeof __require&&__require;if(!t&&i)return i(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+e+"'")}}var s=o[e]={exports:{}};a[e][0].call(s.exports,function(t){return h(a[e][1][t]||t)},s,s.exports,c,a,o,l)}return o[e].exports}for(var r="function"==typeof __require&&__require,t=0;t<l.length;t++)h(l[t]);return h}({GameAdapt:[function(t,e,n){"use strict";cc._RF.push(e,"50984dyjYBLP5q/CXMb1Std","GameAdapt"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.winSize.width/cc.winSize.height,e=this.node.getComponent(cc.Canvas);t<=.67?(e.fitHeight=!0,e.fitWidth=!1):1<t?(e.fitHeight=!0,e.fitWidth=!0):(e.fitWidth=!0,e.fitHeight=!1)},start:function(){}}),cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"101eduW9glL/Ywhd2kPIL2j","GameData");var i=cc.Class({extends:cc.Component,properties:{},ctor:function(){this.lv=1,this.passlevel=parseInt(this.getItem("catpasslevel",0)),this.catfish=parseInt(this.getItem("catfish",0)),this.dfselect=parseInt(this.getItem("dfselect",0))},setItem:function(t,e){cc.sys.localStorage.setItem(t,e)},getItem:function(t,e){var n=cc.sys.localStorage.getItem(t);return null==n&&(this.setItem(t,e),n=e),n},getFishCount:function(){return this.catfish},setFishCount:function(t){this.catfish=t,this.setItem("catfish",t)},getPassLevel:function(){return this.passlevel},setPassLevel:function(t){t>this.passlevel&&(this.passlevel=t,this.setItem("catpasslevel",t))},setCurLevel:function(t){this.lv=t},getCurlevel:function(){return this.lv},setLevelStarCount:function(t,e){var n="catlevelstar"+t;this.setItem(n,e)},getLevelStarCount:function(t){var e="catlevelstar"+t;return parseInt(this.getItem(e,0))},setPassLvStarValue:function(t,e){var n="passLvstar"+t;this.setItem(n,e)},getPassLvStarValue:function(t){var e="passLvstar"+t;return parseInt(this.getItem(e,0))},loadLevelData:function(){var n=this;cc.loader.loadRes("data/stage",function(t,e){n.stagedata=e.json})},getLevelData:function(t){return null==this.stagedata&&cc.log("stage data erro"),this.stagedata[t]},getCurLevelData:function(){return this.stagedata[this.lv]},getDefaultSelectCat:function(){return this.dfselect},setDefaultSelectCat:function(t){this.dfselect=t,this.setItem("dfselect",t)},getBuyCat:function(t){var e="buycat"+t;return parseInt(this.getItem(e,0))},setBuyCat:function(t){var e="buycat"+t;this.setItem(e,1)}});i._instance=null,i.getInstance=function(){return null==i._instance&&(i._instance=new i),i._instance},e.exports=i,cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"45cb1sI62FEMrGXzDc+hwkc","Game");var o=t("SoundManager"),l=t("GameData");cc.Class({extends:cc.Component,properties:{bgbottom:{default:[],type:cc.Node},bgmiddle:{default:[],type:cc.Node},bgtop:{default:[],type:cc.Node},pillar:{default:null,type:cc.Prefab},stick:{default:null,type:cc.Prefab},cat:{default:null,type:cc.Prefab},cat1:{default:null,type:cc.Prefab},cat2:{default:null,type:cc.Prefab},cat3:{default:null,type:cc.Prefab},cat4:{default:null,type:cc.Prefab},cat5:{default:null,type:cc.Prefab},cat6:{default:null,type:cc.Prefab},qz:{default:null,type:cc.Prefab},pillarframes:{default:[],type:cc.SpriteFrame},pillarnode:{default:null,type:cc.Node},pingjia:{default:null,type:cc.Node},p_label:{default:null,type:cc.Node},g_label:{default:null,type:cc.Node},b_label:{default:null,type:cc.Node},lizi:{default:null,type:cc.Node},pausepanel:{default:null,type:cc.Node},conditions:{default:[],type:cc.Node},soundon:{default:null,type:cc.Node},soundoff:{default:null,type:cc.Node},c2count_light:{default:null,type:cc.Node},c3count_light:{default:null,type:cc.Node},tum:{default:null,type:cc.Node},winpanel:{default:null,type:cc.Node},winspine:{default:null,type:cc.Node},winxinxin:{default:null,type:cc.Node},spdark:{default:[],type:cc.SpriteFrame},splight:{default:[],type:cc.SpriteFrame},wconditions:{default:[],type:cc.Node},wc2count_dark:{default:null,type:cc.Node},wc2count_light:{default:null,type:cc.Node},wc3count_dark:{default:null,type:cc.Node},wc3count_light:{default:null,type:cc.Node},fishcount:{default:null,type:cc.Node},losepanel:{default:null,type:cc.Node},losespine:{default:null,type:cc.Node},lconditions:{default:[],type:cc.Node},lc2count_dark:{default:null,type:cc.Node},lc2count_light:{default:null,type:cc.Node},lc3count_dark:{default:null,type:cc.Node},lc3count_light:{default:null,type:cc.Node}},start:function(){this.windows_width=cc.director.getWinSize().width,this.windows_height=cc.director.getWinSize().height,this.pillar_height=350,this.cat_speed=500,this.stick_offset_x=5,this.cat_diff=30,this.init(),this.startGame(),o.getInstance().playMusic(),this.isStop=!1,this.newReward_count=0},init:function(){this.initLevelData(),this.flag=!1,this.is_start=!1,this.is_pause=!1,this.game_over=!1,this.is_move_bg=!1,this.registerEvent(),this.pillar_obj=new Array,this.stick_obj=new Array,this.pass_pillar_count=0,this.p_count=0,this.g_count=0,this.b_count=0,this.tum.x=-170,this.lizi.active=!1},initLevelData:function(){this.level_data=l.getInstance().getCurLevelData(),this.type_start=this.level_data.type_start,this.type_end=this.level_data.type_end},initTestData:function(){this.level_data={level:1,pillar_count:5,type_start:1,type_end:10,condition_2:2,condition_3:1,reward_1:5,reward_2:7,reward_3:10},this.type_start=this.level_data.type_start,this.type_end=this.level_data.type_end},startGame:function(){this.createStartPillar(),this.creatStick(),this.createNextPillar(),this.creatCat(0),this.refreshPGB()},refreshPGB:function(){this.p_label.getComponent(cc.Label).string=""+this.p_count,this.g_label.getComponent(cc.Label).string=""+this.g_count,this.b_label.getComponent(cc.Label).string=""+this.b_count},registerEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onEventStart,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this)},onEventStart:function(t){this.is_pause||this.is_start&&(this.game_over||this.isStop||(this.isStop=!0,this.flag=!0,this.lizi.active=!0,this.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"standby2",!0)))},onEventCancel:function(t){this.flag&&this.onOperateEnd()},onEventEnd:function(t){this.flag&&this.onOperateEnd()},update:function(t){this.flag&&(this.lizi.x=this.cur_stick.x,this.cur_stick.height+=15,this.lizi.y=this.cur_stick.y+this.cur_stick.height+30);var e=40*t;for(var n in this.bgmiddle)(c=this.bgmiddle[n]).x=Math.floor(c.x-e),c.x<=.5*-this.windows_width-c.width&&(c.x=this.windows_width);if(this.is_move_bg){var i=10*t;for(var n in this.bgbottom)(c=this.bgbottom[n]).x=Math.floor(c.x-i),c.x<=-853&&(c.x=853*(this.bgbottom.length-1));var s=200*t;for(var n in this.bgtop){var c;if((c=this.bgtop[n]).x=Math.floor(c.x-s),c.x<=-853){c.x=853*(this.bgtop.length-1),0==n?(this.bgtop[1].x=0,this.bgtop[2].x=853):1==n?(this.bgtop[2].x=0,this.bgtop[0].x=853):2==n&&(this.bgtop[0].x=0,this.bgtop[1].x=853);break}}}},showPillar:function(t,e,n){t.x=n,t.runAction(cc.moveBy(e,cc.v2(0,350)))},createPillar:function(t){var e=cc.instantiate(this.pillar);return e.parent=this.node,e.getComponent(cc.Sprite).spriteFrame=this.pillarframes[t],this.pillar_obj.push(e),e},getRandomPillarType:function(){return Math.floor(this.type_start+Math.random()*(this.type_end-this.type_start))},createStartPillar:function(){var t=.5*-this.windows_width,e=this.createPillar(0);this.showPillar(e,0,t)},createNextPillar:function(){var t=this.pillar_obj[this.pillar_obj.length-1];this.pillar_dis=this.getRandomDis();var e=this.createPillar(this.getRandomPillarType()),n=t.x+.5*(t.width+e.width)+this.pillar_dis;this.is_start=!1,this.showPillar(e,.2,n);var i=this;if(this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){i.is_start=!0}))),this.pass_pillar_count==this.level_data.pillar_count-1){var s=cc.instantiate(this.qz);s.parent=e,s.getComponent("sp.Skeleton").setAnimation(0,"animation",!0),s.x=.5*e.width-10}},creatCat:function(t){var e=this.cat,n=l.getInstance().getDefaultSelectCat();1==n?e=this.cat1:2==n?e=this.cat2:3==n?e=this.cat3:4==n?e=this.cat4:5==n?e=this.cat5:6==n&&(e=this.cat6),this.cur_cat=cc.instantiate(e),this.cur_cat.parent=this.node;var i=this.pillar_obj[t];this.cur_cat.x=i.x+.5*i.width-30,this.cur_cat.y=this.pillar_height-.5*this.windows_height;var s=this.cur_cat.getComponent("sp.Skeleton");s.setAnimation(0,"debut",!1),s.setAnimationListener(this,this.spineEventCallback)},creatStick:function(){this.cur_stick=cc.instantiate(this.stick),this.cur_stick.zIndex=100,this.cur_stick.parent=this.node;var t=this.pillar_obj[this.pillar_obj.length-1];this.cur_stick.x=t.x+.5*t.width-this.stick_offset_x,this.cur_stick.y=this.pillar_height-.5*this.windows_height,this.stick_obj.push(this.cur_stick)},onOperateEnd:function(){this.flag=!1,this.lizi.active=!1,this.cur_stick.runAction(cc.sequence(cc.delayTime(.2),cc.rotateTo(.3,90))),this.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"kick",!1)},onShowJudge:function(t){var e=this.pingjia.getComponent("sp.Skeleton");1==t?(this.b_count+=1,e.setAnimation(0,"animation1",!1)):2==t?(e.setAnimation(0,"animation2",!1),this.g_count+=1):3==t&&(e.setAnimation(0,"animation3",!1),this.p_count+=1,o.getInstance().playPerfect()),this.refreshPGB()},guanggao2:function(t,e){QuickAds.showAfg(),t.target.active=!1,this.fishcount.getComponent(cc.Label).string=""+2*this.newReward_count;var n=l.getInstance().getFishCount();l.getInstance().setFishCount(n+this.newReward_count)},onJudge:function(){var t=this.pillar_obj[this.pillar_obj.length-1].width,e=this.pillar_dis+this.stick_offset_x,n=this.pillar_dis+t+this.stick_offset_x,i=this.cur_stick.height,s=.25*t;e<=i&&i<=n&&(e<=i&&i<e+s||i<=n&&n-s<i?this.onShowJudge(1):e+.5*t-5<=i&&i<=e+.5*t+5?this.onShowJudge(3):this.onShowJudge(2))},spineEventCallback:function(t,e,n,i,s){n==sp.AnimationEventType.COMPLETE&&("debut"===e.animation.name?this.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"standby",!0):"kick"===e.animation.name&&(this.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"run",!0),this.onCatMove(),this.onJudge()))},onStartShowAfg:function(){QuickAds.showAfg()},onCatMove:function(){this.is_start=!1,this.is_move_bg=!0;var t=this,e=this.cur_cat.y,n=0,i=0,s=this.pillar_obj[this.pillar_obj.length-1];if(o.getInstance().playRun(),this.cur_stick.height<this.pillar_dis+this.stick_offset_x||this.cur_stick.height>this.pillar_dis+s.width+this.stick_offset_x)i=((n=this.cur_stick.x+this.cur_stick.height)-this.cur_cat.x)/this.cat_speed,this.cur_cat.runAction(cc.sequence(cc.moveTo(i,cc.v2(n,e)),cc.callFunc(function(){t.is_move_bg=!1,t.isStop=!1,o.getInstance().stopRun(),t.onCatFall()})));else{i=((n=s.x+.5*s.width-this.cat_diff)-this.cur_cat.x)/this.cat_speed;var c=330/this.level_data.pillar_count;this.tum.runAction(cc.moveBy(i,cc.v2(c,0))),this.cur_cat.runAction(cc.sequence(cc.moveTo(i,cc.v2(n,e)),cc.callFunc(function(){t.is_move_bg=!1,t.isStop=!1,t.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"standby",!0),t.onMovePillars(),o.getInstance().stopRun()})))}},onCatFall:function(){this.game_over=!0,this.cur_stick.runAction(cc.rotateTo(.3,180)),this.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"death",!0);var t=this;this.cur_cat.runAction(cc.sequence(cc.moveBy(.3,cc.v2(0,-500)),cc.callFunc(function(){t.onLose()})))},onLose:function(){o.getInstance().stopMusic(),o.getInstance().playLose(),this.losepanel.active=!0,this.losepanel.zIndex=1e3;var t=0;this.b_count<=this.level_data.condition_2&&(t+=2),this.p_count>=this.level_data.condition_3&&(t+=4),this.losespine.getComponent("sp.Skeleton").setAnimation(0,"animation",!1),this.setLCondition(t,this.level_data.condition_2,this.level_data.condition_3)},winSpineEventCallback:function(t,e,n,i,s){n==sp.AnimationEventType.COMPLETE&&"animation1"===e.animation.name&&this.winspine.getComponent("sp.Skeleton").setAnimation(0,"animation2",!0)},onWin:function(){o.getInstance().stopMusic(),o.getInstance().playWin(),this.winpanel.active=!0,this.winpanel.zIndex=1e3;var t=1,e=1;this.b_count<=this.level_data.condition_2&&(t+=2,e+=1),this.p_count>=this.level_data.condition_3&&(t+=4,e+=1);var n=l.getInstance().getCurlevel();e>l.getInstance().getLevelStarCount(n)&&(l.getInstance().setLevelStarCount(n,e),l.getInstance().setPassLvStarValue(n,t)),l.getInstance().setPassLevel(n);var i=this.winspine.getComponent("sp.Skeleton");i.setAnimation(0,"animation1",!1),i.setAnimationListener(this,this.winSpineEventCallback);var s=this.winxinxin.getComponent("sp.Skeleton"),c=l.getInstance().getFishCount(),a=0;1==e?(a=this.level_data.reward_1,l.getInstance().setFishCount(c+this.level_data.reward_1),s.setAnimation(0,"animation1",!1)):2==e?(a=this.level_data.reward_2,l.getInstance().setFishCount(c+this.level_data.reward_2),s.setAnimation(0,"animation2",!1)):3==e&&(a=this.level_data.reward_3,l.getInstance().setFishCount(c+this.level_data.reward_3),s.setAnimation(0,"animation3",!1)),this.setWCondition(t,this.level_data.condition_2,this.level_data.condition_3),this.fishcount.getComponent(cc.Label).string=""+a,this.newReward_count=a},setWCondition:function(t,e,n){this.wconditions[0].getComponent(cc.Sprite).spriteFrame=1==t||3==t||5==t||7==t?this.splight[0]:this.spdark[0],2==t||3==t||6==t||7==t?(this.wconditions[1].getComponent(cc.Sprite).spriteFrame=this.splight[1],this.wc2count_dark.active=!1,this.wc2count_light.active=!0,this.wc2count_light.getComponent(cc.Label).string=""+e):(this.wconditions[1].getComponent(cc.Sprite).spriteFrame=this.spdark[1],this.wc2count_dark.active=!0,this.wc2count_light.active=!1,this.wc2count_dark.getComponent(cc.Label).string=""+e),4==t||5==t||6==t||7==t?(this.wconditions[2].getComponent(cc.Sprite).spriteFrame=this.splight[2],this.wc3count_dark.active=!1,this.wc3count_light.active=!0,this.wc3count_light.getComponent(cc.Label).string=""+n):(this.wconditions[2].getComponent(cc.Sprite).spriteFrame=this.spdark[2],this.wc3count_dark.active=!0,this.wc3count_light.active=!1,this.wc3count_dark.getComponent(cc.Label).string=""+n)},setLCondition:function(t,e,n){this.lconditions[0].getComponent(cc.Sprite).spriteFrame=1==t||3==t||5==t||7==t?this.splight[0]:this.spdark[0],2==t||3==t||6==t||7==t?(this.lconditions[1].getComponent(cc.Sprite).spriteFrame=this.splight[1],this.lc2count_dark.active=!1,this.lc2count_light.active=!0,this.lc2count_light.getComponent(cc.Label).string=""+e):(this.lconditions[1].getComponent(cc.Sprite).spriteFrame=this.spdark[1],this.lc2count_dark.active=!0,this.lc2count_light.active=!1,this.lc2count_dark.getComponent(cc.Label).string=""+e),4==t||5==t||6==t||7==t?(this.lconditions[2].getComponent(cc.Sprite).spriteFrame=this.splight[2],this.lc3count_dark.active=!1,this.lc3count_light.active=!0,this.lc3count_light.getComponent(cc.Label).string=""+n):(this.lconditions[2].getComponent(cc.Sprite).spriteFrame=this.spdark[2],this.lc3count_dark.active=!0,this.lc3count_light.active=!1,this.lc3count_dark.getComponent(cc.Label).string=""+n)},onMovePillars:function(){if(this.pass_pillar_count==this.level_data.pillar_count-1)this.onPassPillar();else{var t=this.pillar_obj[this.pillar_obj.length-1],e=.5*-this.windows_width+120-.5*t.width-t.x;for(var n in this.pillar_obj)this.pillar_obj[n].runAction(cc.moveBy(.3,cc.v2(e,0)));for(var n in this.stick_obj)this.stick_obj[n].runAction(cc.moveBy(.3,cc.v2(e,0)));this.cur_cat.runAction(cc.moveBy(.3,cc.v2(e,0)));var i=this;this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){i.onPassPillar()})))}},onPassPillar:function(){this.removOutStickAndPillar(),this.pass_pillar_count+=1,this.pass_pillar_count>=this.level_data.pillar_count?(this.game_over=!0,this.onWin()):(this.creatStick(),this.createNextPillar())},removOutStickAndPillar:function(){5<=this.pillar_obj.length&&(this.pillar_obj.splice(0,3),this.stick_obj.splice(0,3))},getRandomDis:function(){return 20*Math.floor(12.5*Math.random()+2.5)},onShowPausePanel:function(){this.pausepanel.active=!0,this.is_pause=!0,this.pausepanel.zIndex=1e3,this.setCon2AndCon3Count(this.level_data.condition_2,this.level_data.condition_3),this.checkSound()},setCon2AndCon3Count:function(t,e){this.c2count_light.getComponent(cc.Label).string=""+t,this.c3count_light.getComponent(cc.Label).string=""+e},onContinue:function(){this.pausepanel.active=!1,this.is_pause=!1},checkSound:function(){o.getInstance().isSound()?(this.soundon.active=!0,this.soundoff.active=!1):(this.soundon.active=!1,this.soundoff.active=!0)},onSoundClick:function(){var t=o.getInstance().isSound();o.getInstance().setSound(!t),t?o.getInstance().stopMusic():o.getInstance().playMusic(),this.checkSound()},onRestart:function(){cc.director.loadScene("Game")},onBackToSelect:function(){o.getInstance().stopWin(),o.getInstance().stopLose(),cc.director.loadScene("Select")},onNextLevel:function(){var t=l.getInstance().getCurlevel();t<40?(l.getInstance().setCurLevel(t+1),cc.director.loadScene("Game")):cc.director.loadScene("Select"),o.getInstance().stopWin()},onRelive:function(){o.getInstance().stopLose(),o.getInstance().playMusic(),this.game_over=!1,this.is_start=!0,this.losepanel.active=!1,this.cur_stick.rotation=0,this.cur_stick.height=0;var t=this.pillar_obj[this.pillar_obj.length-2];this.cur_cat.x=t.x+.5*t.width-30,this.cur_cat.y=this.pillar_height-.5*this.windows_height,this.cur_cat.getComponent("sp.Skeleton").setAnimation(0,"debut",!1)}}),cc._RF.pop()},{GameData:"GameData",SoundManager:"SoundManager"}],Logo:[function(t,e,n){"use strict";cc._RF.push(e,"2b65a7lsz5KU4tMomab1QiH","Logo");var i=t("SoundManager"),s=t("GameData");cc.Class({extends:cc.Component,properties:{logo:{default:null,type:cc.Node}},start:function(){i.getInstance(),s.getInstance().loadLevelData(),this.logo.opacity=0,this.logo.runAction(cc.sequence(cc.fadeIn(1),cc.delayTime(1),cc.fadeOut(1),cc.callFunc(function(){cc.director.loadScene("Main")})))}}),cc._RF.pop()},{GameData:"GameData",SoundManager:"SoundManager"}],LvButton:[function(t,e,n){"use strict";cc._RF.push(e,"04352lya9tA2LY4zdjJwVSy","LvButton"),cc.Class({extends:cc.Component,properties:{level:0,levellabel:{default:null,type:cc.Node},star1:{default:null,type:cc.Node},star2:{default:null,type:cc.Node},star3:{default:null,type:cc.Node},starframe1:{default:null,type:cc.SpriteFrame},starframe2:{default:null,type:cc.SpriteFrame}},start:function(){this.levellabel.getComponent(cc.Label).string=""+this.level},setSelectScript:function(t){this.select_script=t},setStarCount:function(t){this.startcount=t,0==this.startcount?(this.star1.getComponent(cc.Sprite).spriteFrame=this.starframe2,this.star2.getComponent(cc.Sprite).spriteFrame=this.starframe2,this.star3.getComponent(cc.Sprite).spriteFrame=this.starframe2):1==this.startcount?(this.star1.getComponent(cc.Sprite).spriteFrame=this.starframe1,this.star2.getComponent(cc.Sprite).spriteFrame=this.starframe2,this.star3.getComponent(cc.Sprite).spriteFrame=this.starframe2):2==this.startcount?(this.star1.getComponent(cc.Sprite).spriteFrame=this.starframe1,this.star2.getComponent(cc.Sprite).spriteFrame=this.starframe1,this.star3.getComponent(cc.Sprite).spriteFrame=this.starframe2):3==this.startcount&&(this.star1.getComponent(cc.Sprite).spriteFrame=this.starframe1,this.star2.getComponent(cc.Sprite).spriteFrame=this.starframe1,this.star3.getComponent(cc.Sprite).spriteFrame=this.starframe1)},onSelectLevel:function(){this.select_script.onSelectLevel(this.level)},onLevelOpen:function(){this.star1.active=!0,this.star2.active=!0,this.star3.active=!0,this.node.getComponent(cc.Button).interactable=!0},onLevelClose:function(){this.star1.active=!1,this.star2.active=!1,this.star3.active=!1,this.node.getComponent(cc.Button).interactable=!1}}),cc._RF.pop()},{}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"56e0f7Mg9VP3YnX1g2a432V","Main");var i=t("SoundManager"),s=t("GameData");cc.Class({extends:cc.Component,properties:{logo:{default:null,type:cc.Node},tap:{default:null,type:cc.Node},soundon:{default:null,type:cc.Node},soundoff:{default:null,type:cc.Node},cat:{default:null,type:cc.Node},change:{default:null,type:cc.Node},bgmiddle:{default:[],type:cc.Node},changepanel:{default:null,type:cc.Node},fishcount:{default:null,type:cc.Node},cats:{default:[],type:cc.Node},pricenode:{default:[],type:cc.Node},wprice:{default:[],type:cc.Node},rprice:{default:[],type:cc.Node},catbgs:{default:[],type:cc.Node},select:{default:null,type:cc.Node}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onEventStart,this),this.is_ok=!1,this.checkSound(),this.tap.scale=0;var t=this.logo.getComponent("sp.Skeleton");t.setAnimation(0,"animation",!1),t.setAnimationListener(this,this.logo_spineEventCallback),this.cat_prices=new Array(50,150,250,500,800,1500),this.windows_width=cc.director.getWinSize().width,this.windows_height=cc.director.getWinSize().height},onEventStart:function(t){this.is_ok&&cc.director.loadScene("Select")},checkSound:function(){i.getInstance().isSound()?(this.soundon.active=!0,this.soundoff.active=!1):(this.soundon.active=!1,this.soundoff.active=!0)},onSoundClick:function(){var t=i.getInstance().isSound();i.getInstance().setSound(!t),t?i.getInstance().stopMusic():i.getInstance().playMusic(),this.checkSound()},onLogoApear:function(){var t=this.cat.getComponent("sp.Skeleton");t.setAnimation(0,"debut",!1),t.setAnimationListener(this,this.cat_spineEventCallback);var e=this;this.tap.runAction(cc.sequence(cc.scaleTo(.3,1),cc.callFunc(function(){e.tap.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1.5,1.1),cc.scaleTo(1.5,1))))})))},logo_spineEventCallback:function(t,e,n,i,s){if(n==sp.AnimationEventType.COMPLETE&&"animation"===e.animation.name){var c=this;this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){c.onLogoApear()})))}},cat_spineEventCallback:function(t,e,n,i,s){n==sp.AnimationEventType.COMPLETE&&"debut"===e.animation.name&&(this.cat.getComponent("sp.Skeleton").setAnimation(0,"standby",!0),this.is_ok=!0)},onShowChangePanel:function(){this.changepanel.active=!0;var t=s.getInstance().getDefaultSelectCat();this.cur_dfs=t,this.select.x=this.catbgs[this.cur_dfs].x,this.select.y=this.catbgs[this.cur_dfs].y,this.refreshAllCats(),this.refreshFishcount()},onHideChangePanel:function(){this.changepanel.active=!1},refreshAllCats:function(){var t=s.getInstance().getFishCount();0==this.cur_dfs?this.cats[0].getComponent("sp.Skeleton").setAnimation(0,"run",!0):this.cats[0].getComponent("sp.Skeleton").setAnimation(0,"standby",!0);for(var e=0;e<6;e++)1==s.getInstance().getBuyCat(e+1)?(this.pricenode[e].active=!1,this.cur_dfs==e+1?this.cats[e+1].getComponent("sp.Skeleton").setAnimation(0,"run",!0):this.cats[e+1].getComponent("sp.Skeleton").setAnimation(0,"standby",!0)):(this.cats[e+1].getComponent("sp.Skeleton").setAnimation(0,"hui",!1),this.pricenode[e].active=!0,t>this.cat_prices[e]?(this.wprice[e].active=!0,this.rprice[e].active=!1):(this.wprice[e].active=!1,this.rprice[e].active=!0))},updateSlect:function(t){this.cats[this.cur_dfs].getComponent("sp.Skeleton").setAnimation(0,"standby",!0),this.cur_dfs=t,this.cats[this.cur_dfs].getComponent("sp.Skeleton").setAnimation(0,"run",!0),this.select.x=this.catbgs[this.cur_dfs].x,this.select.y=this.catbgs[this.cur_dfs].y,s.getInstance().setDefaultSelectCat(this.cur_dfs)},refreshFishcount:function(){var t=s.getInstance().getFishCount();this.fishcount.getComponent(cc.Label).string=""+t},onChange1:function(){0!=this.cur_dfs&&this.updateSlect(0)},onChange2:function(){1==s.getInstance().getBuyCat(1)?1!=this.cur_dfs&&this.updateSlect(1):this.onBuyIndex(1)},onChange3:function(){1==s.getInstance().getBuyCat(2)?2!=this.cur_dfs&&this.updateSlect(2):this.onBuyIndex(2)},onChange4:function(){1==s.getInstance().getBuyCat(3)?3!=this.cur_dfs&&this.updateSlect(3):this.onBuyIndex(3)},onChange5:function(){1==s.getInstance().getBuyCat(4)?4!=this.cur_dfs&&this.updateSlect(4):this.onBuyIndex(4)},onChange6:function(){1==s.getInstance().getBuyCat(5)?5!=this.cur_dfs&&this.updateSlect(5):this.onBuyIndex(5)},onChange7:function(){1==s.getInstance().getBuyCat(6)?6!=this.cur_dfs&&this.updateSlect(6):this.onBuyIndex(6)},onBuyIndex:function(t){var e=s.getInstance().getFishCount();e>=this.cat_prices[t-1]&&(s.getInstance().setFishCount(e-this.cat_prices[t-1]),s.getInstance().setBuyCat(t),this.refreshFishcount(),this.refreshAllCats())},update:function(t){var e=40*t;for(var n in this.bgmiddle){var i=this.bgmiddle[n];i.x=Math.floor(i.x-e),i.x<=.5*-this.windows_width-i.width&&(i.x=this.windows_width)}}}),cc._RF.pop()},{GameData:"GameData",SoundManager:"SoundManager"}],Mask:[function(t,e,n){"use strict";var i,s,c;cc._RF.push(e,"d6026Mo1oZJfLJtsgxw6SaJ","Mask"),cc.Class((i={extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onClick,this)},start:function(){},onClick:function(){}},c=function(){},(s="start")in i?Object.defineProperty(i,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[s]=c,i)),cc._RF.pop()},{}],Select:[function(t,e,n){"use strict";cc._RF.push(e,"01258yXdTBFoqC90JrRCWHz","Select");var c=t("GameData"),i=t("SoundManager");cc.Class({extends:cc.Component,properties:{chaptertag:{default:null,type:cc.Node},progress:{default:null,type:cc.Node},chapter1tag:{default:null,type:cc.SpriteFrame},chapter2tag:{default:null,type:cc.SpriteFrame},chapter3tag:{default:null,type:cc.SpriteFrame},chapter1node:{default:null,type:cc.Node},chapter2node:{default:null,type:cc.Node},chapter3node:{default:null,type:cc.Node},pre:{default:null,type:cc.Node},next:{default:null,type:cc.Node},levelbuttons:{default:[],type:cc.Node},starallcount:{default:null,type:cc.Node},fishcount:{default:null,type:cc.Node},startpanel:{default:null,type:cc.Node},startStars:{default:[],type:cc.Node},sspdark:{default:null,type:cc.SpriteFrame},ssplight:{default:null,type:cc.SpriteFrame},conditions:{default:[],type:cc.Node},spdark:{default:[],type:cc.SpriteFrame},splight:{default:[],type:cc.SpriteFrame},c2count_dark:{default:null,type:cc.Node},c2count_light:{default:null,type:cc.Node},c3count_dark:{default:null,type:cc.Node},c3count_light:{default:null,type:cc.Node},level:{default:null,type:cc.Node},fishcount1:{default:null,type:cc.Node},changepanel:{default:null,type:cc.Node},fishcount3:{default:null,type:cc.Node},cats:{default:[],type:cc.Node},pricenode:{default:[],type:cc.Node},wprice:{default:[],type:cc.Node},rprice:{default:[],type:cc.Node},catbgs:{default:[],type:cc.Node},select:{default:null,type:cc.Node}},start:function(){this.init(),this.cat_prices=new Array(50,150,250,500,800,1500),i.getInstance().playMusic()},init:function(){var t=c.getInstance().getPassLevel();this.chp1starcount=0,this.chp2starcount=0;for(var e=this.chp3starcount=0;e<this.levelbuttons.length;e++){var n=c.getInstance().getLevelStarCount(e+1),i=this.levelbuttons[e].getComponent("LvButton");i.setSelectScript(this),e<t+1?i.onLevelOpen():i.onLevelClose(),i.setStarCount(n),e<10?this.chp1starcount+=n:e<25?this.chp2starcount+=n:e<40&&(this.chp3starcount+=n)}t<10?this.onShowPage(1):t<25?this.onShowPage(2):t<=40&&this.onShowPage(3);var s=c.getInstance().getFishCount();this.setFinshCount(s)},onSelectLevel:function(t){cc.log("onSelectLevel=="+t),this.cur_level=t,c.getInstance().setCurLevel(t),this.onShowStartPanel()},setFinshCount:function(t){this.fishcount.getComponent(cc.Label).string=""+t},onShowPage:function(t){this.page=t,1==this.page?(this.chapter1node.active=!0,this.chapter2node.active=!1,this.chapter3node.active=!1,this.pre.active=!1,this.next.active=!0,this.chaptertag.getComponent(cc.Sprite).spriteFrame=this.chapter1tag,this.starallcount.getComponent(cc.Label).string=this.chp1starcount+"/30"):2==this.page?(this.chapter1node.active=!1,this.chapter2node.active=!0,this.chapter3node.active=!1,this.pre.active=!0,this.next.active=!0,this.chaptertag.getComponent(cc.Sprite).spriteFrame=this.chapter2tag,this.starallcount.getComponent(cc.Label).string=this.chp2starcount+"/45"):3==this.page&&(this.chapter1node.active=!1,this.chapter2node.active=!1,this.chapter3node.active=!0,this.pre.active=!0,this.next.active=!1,this.chaptertag.getComponent(cc.Sprite).spriteFrame=this.chapter3tag,this.starallcount.getComponent(cc.Label).string=this.chp3starcount+"/45")},onPre:function(){this.page-=1,this.onShowPage(this.page)},onNext:function(){this.page+=1,this.onShowPage(this.page)},onStartGame:function(){cc.director.loadScene("Game")},getCurLevelData:function(){return c.getInstance().getLevelData(this.cur_level)},onShowStartPanel:function(){this.startpanel.active=!0,this.setStartLevel(this.cur_level);var t=c.getInstance().getLevelStarCount(this.cur_level);this.setStarCount(t);var e=this.getCurLevelData(),n=c.getInstance().getPassLvStarValue(this.cur_level);this.setCondition(n,e.condition_2,e.condition_3),this.setStartFishCount(e.reward_3)},onStartBack:function(){this.startpanel.active=!1},setStarCount:function(t){for(var e=0;e<3;e++)this.startStars[e].getComponent(cc.Sprite).spriteFrame=e<t?this.ssplight:this.sspdark},setCondition:function(t,e,n){this.conditions[0].getComponent(cc.Sprite).spriteFrame=1==t||3==t||5==t||7==t?this.splight[0]:this.spdark[0],2==t||3==t||6==t||7==t?(this.conditions[1].getComponent(cc.Sprite).spriteFrame=this.splight[1],this.c2count_dark.active=!1,this.c2count_light.active=!0,this.c2count_light.getComponent(cc.Label).string=""+e):(this.conditions[1].getComponent(cc.Sprite).spriteFrame=this.spdark[1],this.c2count_dark.active=!0,this.c2count_light.active=!1,this.c2count_dark.getComponent(cc.Label).string=""+e),4==t||5==t||6==t||7==t?(this.conditions[2].getComponent(cc.Sprite).spriteFrame=this.splight[2],this.c3count_dark.active=!1,this.c3count_light.active=!0,this.c3count_light.getComponent(cc.Label).string=""+n):(this.conditions[2].getComponent(cc.Sprite).spriteFrame=this.spdark[2],this.c3count_dark.active=!0,this.c3count_light.active=!1,this.c3count_dark.getComponent(cc.Label).string=""+n)},setStartFishCount:function(t){this.fishcount1.getComponent(cc.Label).string=""+t},onBackToMain:function(){cc.director.loadScene("Main")},setStartLevel:function(t){this.level.getComponent(cc.Label).string=""+t},onShowChangePanel:function(){this.changepanel.active=!0;var t=c.getInstance().getDefaultSelectCat();this.cur_dfs=t,this.select.x=this.catbgs[this.cur_dfs].x,this.select.y=this.catbgs[this.cur_dfs].y,this.refreshAllCats(),this.refreshFishcount()},onHideChangePanel:function(){this.changepanel.active=!1},refreshAllCats:function(){var t=c.getInstance().getFishCount();0==this.cur_dfs?this.cats[0].getComponent("sp.Skeleton").setAnimation(0,"run",!0):this.cats[0].getComponent("sp.Skeleton").setAnimation(0,"standby",!0);for(var e=0;e<6;e++)1==c.getInstance().getBuyCat(e+1)?(this.pricenode[e].active=!1,this.cur_dfs==e+1?this.cats[e+1].getComponent("sp.Skeleton").setAnimation(0,"run",!0):this.cats[e+1].getComponent("sp.Skeleton").setAnimation(0,"standby",!0)):(this.cats[e+1].getComponent("sp.Skeleton").setAnimation(0,"hui",!1),this.pricenode[e].active=!0,t>this.cat_prices[e]?(this.wprice[e].active=!0,this.rprice[e].active=!1):(this.wprice[e].active=!1,this.rprice[e].active=!0))},updateSlect:function(t){this.cats[this.cur_dfs].getComponent("sp.Skeleton").setAnimation(0,"standby",!0),this.cur_dfs=t,this.cats[this.cur_dfs].getComponent("sp.Skeleton").setAnimation(0,"run",!0),this.select.x=this.catbgs[this.cur_dfs].x,this.select.y=this.catbgs[this.cur_dfs].y,c.getInstance().setDefaultSelectCat(this.cur_dfs)},refreshFishcount:function(){var t=c.getInstance().getFishCount();this.fishcount3.getComponent(cc.Label).string=""+t,this.setFinshCount(t)},onChange1:function(){0!=this.cur_dfs&&this.updateSlect(0)},onChange2:function(){1==c.getInstance().getBuyCat(1)?1!=this.cur_dfs&&this.updateSlect(1):this.onBuyIndex(1)},onChange3:function(){1==c.getInstance().getBuyCat(2)?2!=this.cur_dfs&&this.updateSlect(2):this.onBuyIndex(2)},onChange4:function(){1==c.getInstance().getBuyCat(3)?3!=this.cur_dfs&&this.updateSlect(3):this.onBuyIndex(3)},onChange5:function(){1==c.getInstance().getBuyCat(4)?4!=this.cur_dfs&&this.updateSlect(4):this.onBuyIndex(4)},onChange6:function(){1==c.getInstance().getBuyCat(5)?5!=this.cur_dfs&&this.updateSlect(5):this.onBuyIndex(5)},onChange7:function(){1==c.getInstance().getBuyCat(6)?6!=this.cur_dfs&&this.updateSlect(6):this.onBuyIndex(6)},onBuyIndex:function(t){var e=c.getInstance().getFishCount();e>=this.cat_prices[t-1]&&(c.getInstance().setFishCount(e-this.cat_prices[t-1]),c.getInstance().setBuyCat(t),this.refreshFishcount(),this.refreshAllCats())}}),cc._RF.pop()},{GameData:"GameData",SoundManager:"SoundManager"}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"d9af1HU5JtAiYJ4khjaBVv5","SoundManager");var i=t("GameData"),s=cc.Class({extends:cc.Component,properties:{},ctor:function(){var n=this;this.player_mode=0;var t=i.getInstance().getItem("sound",1);this.is_soundon=!0,0==t&&(this.is_soundon=!1),cc.loader.loadRes("sound/bgm",cc.AudioClip,function(t,e){n.beijing_clip=e,n.playMusic()}),cc.loader.loadRes("sound/stage_failed",cc.AudioClip,function(t,e){n.fail_clip=e}),cc.loader.loadRes("sound/stage_complete",cc.AudioClip,function(t,e){n.win_clip=e}),cc.loader.loadRes("sound/perfect",cc.AudioClip,function(t,e){n.perfect_clip=e}),cc.loader.loadRes("sound/run",cc.AudioClip,function(t,e){n.run_clip=e})},setSound:function(t){(this.is_soundon=t)?i.getInstance().setItem("sound",1):i.getInstance().setItem("sound",0)},isSound:function(){return this.is_soundon},playMusic:function(){this.is_soundon&&null==this.bgm&&(this.bgm=cc.audioEngine.play(this.beijing_clip,!0,1))},stopMusic:function(){null!=this.bgm&&(cc.audioEngine.stop(this.bgm),this.bgm=null)},playWin:function(){this.is_soundon&&(this.win=cc.audioEngine.play(this.win_clip,!1,1))},stopWin:function(){null!=this.win&&(cc.audioEngine.stop(this.win),this.win=null)},playPerfect:function(){this.is_soundon&&cc.audioEngine.play(this.perfect_clip,!1,1)},playLose:function(){this.is_soundon&&(this.lose=cc.audioEngine.play(this.fail_clip,!1,1))},stopLose:function(){null!=this.lose&&(cc.audioEngine.stop(this.lose),this.lose=null)},playRun:function(){this.is_soundon&&(this.run=cc.audioEngine.play(this.run_clip,!1,1))},stopRun:function(){null!=this.run&&(cc.audioEngine.stop(this.run),this.run=null)}});s._instance=null,s.getInstance=function(){return null==s._instance&&(s._instance=new s),s._instance},e.exports=s,cc._RF.pop()},{GameData:"GameData"}]},{},["Game","GameAdapt","GameData","Logo","LvButton","Main","Mask","Select","SoundManager"]);